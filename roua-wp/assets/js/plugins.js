// SmoothScroll v0.9.9
// Licensed under the terms of the MIT license.
// People involved
// - Balazs Galambosi: maintainer (CHANGELOG.txt)
// - Patrick Brunner (patrickb1991@gmail.com)
// - Michael Herf: ssc_pulse Algorithm

function ssc_init(){if(!document.body)return;var e=document.body;var t=document.documentElement;var n=window.innerHeight;var r=e.scrollHeight;ssc_root=document.compatMode.indexOf("CSS")>=0?t:e;ssc_activeElement=e;ssc_initdone=true;if(top!=self){ssc_frame=true}else if(r>n&&(e.offsetHeight<=n||t.offsetHeight<=n)){ssc_root.style.height="auto";if(ssc_root.offsetHeight<=n){var i=document.createElement("div");i.style.clear="both";e.appendChild(i)}}if(!ssc_fixedback){e.style.backgroundAttachment="scroll";t.style.backgroundAttachment="scroll"}if(ssc_keyboardsupport){ssc_addEvent("keydown",ssc_keydown)}}function ssc_scrollArray(e,t,n,r){r||(r=1e3);ssc_directionCheck(t,n);ssc_que.push({x:t,y:n,lastX:t<0?.99:-.99,lastY:n<0?.99:-.99,start:+(new Date)});if(ssc_pending){return}var i=function(){var s=+(new Date);var o=0;var u=0;for(var a=0;a<ssc_que.length;a++){var f=ssc_que[a];var l=s-f.start;var c=l>=ssc_animtime;var h=c?1:l/ssc_animtime;if(ssc_pulseAlgorithm){h=ssc_pulse(h)}var p=f.x*h-f.lastX>>0;var d=f.y*h-f.lastY>>0;o+=p;u+=d;f.lastX+=p;f.lastY+=d;if(c){ssc_que.splice(a,1);a--}}if(t){var v=e.scrollLeft;e.scrollLeft+=o;if(o&&e.scrollLeft===v){t=0}}if(n){var m=e.scrollTop;e.scrollTop+=u;if(u&&e.scrollTop===m){n=0}}if(!t&&!n){ssc_que=[]}if(ssc_que.length){setTimeout(i,r/ssc_framerate+1)}else{ssc_pending=false}};setTimeout(i,0);ssc_pending=true}function ssc_wheel(e){if(!ssc_initdone){ssc_init()}var t=e.target;var n=ssc_overflowingAncestor(t);if(!n||e.defaultPrevented||ssc_isNodeName(ssc_activeElement,"embed")||ssc_isNodeName(t,"embed")&&/\.pdf/i.test(t.src)){return true}var r=e.wheelDeltaX||0;var i=e.wheelDeltaY||0;if(!r&&!i){i=e.wheelDelta||0}if(Math.abs(r)>1.2){r*=ssc_stepsize/120}if(Math.abs(i)>1.2){i*=ssc_stepsize/120}ssc_scrollArray(n,-r,-i);e.preventDefault()}function ssc_keydown(e){var t=e.target;var n=e.ctrlKey||e.altKey||e.metaKey;if(/input|textarea|embed/i.test(t.nodeName)||t.isContentEditable||e.defaultPrevented||n){return true}if(ssc_isNodeName(t,"button")&&e.keyCode===ssc_key.spacebar){return true}var r,i=0,s=0;var o=ssc_overflowingAncestor(ssc_activeElement);var u=o.clientHeight;if(o==document.body){u=window.innerHeight}switch(e.keyCode){case ssc_key.up:s=-ssc_arrowscroll;break;case ssc_key.down:s=ssc_arrowscroll;break;case ssc_key.spacebar:r=e.shiftKey?1:-1;s=-r*u*.9;break;case ssc_key.pageup:s=-u*.9;break;case ssc_key.pagedown:s=u*.9;break;case ssc_key.home:s=-o.scrollTop;break;case ssc_key.end:var a=o.scrollHeight-o.scrollTop-u;s=a>0?a+10:0;break;case ssc_key.left:i=-ssc_arrowscroll;break;case ssc_key.right:i=ssc_arrowscroll;break;default:return true}ssc_scrollArray(o,i,s);e.preventDefault()}function ssc_mousedown(e){ssc_activeElement=e.target}function ssc_setCache(e,t){for(var n=e.length;n--;)ssc_cache[ssc_uniqueID(e[n])]=t;return t}function ssc_overflowingAncestor(e){var t=[];var n=ssc_root.scrollHeight;do{var r=ssc_cache[ssc_uniqueID(e)];if(r){return ssc_setCache(t,r)}t.push(e);if(n===e.scrollHeight){if(!ssc_frame||ssc_root.clientHeight+10<n){return ssc_setCache(t,document.body)}}else if(e.clientHeight+10<e.scrollHeight){overflow=getComputedStyle(e,"").getPropertyValue("overflow");if(overflow==="scroll"||overflow==="auto"){return ssc_setCache(t,e)}}}while(e=e.parentNode)}function ssc_addEvent(e,t,n){window.addEventListener(e,t,n||false)}function ssc_removeEvent(e,t,n){window.removeEventListener(e,t,n||false)}function ssc_isNodeName(e,t){return e.nodeName.toLowerCase()===t.toLowerCase()}function ssc_directionCheck(e,t){e=e>0?1:-1;t=t>0?1:-1;if(ssc_direction.x!==e||ssc_direction.y!==t){ssc_direction.x=e;ssc_direction.y=t;ssc_que=[]}}function ssc_pulse_(e){var t,n,r;e=e*ssc_pulseScale;if(e<1){t=e-(1-Math.exp(-e))}else{n=Math.exp(-1);e-=1;r=1-Math.exp(-e);t=n+r*(1-n)}return t*ssc_pulseNormalize}function ssc_pulse(e){if(e>=1)return 1;if(e<=0)return 0;if(ssc_pulseNormalize==1){ssc_pulseNormalize/=ssc_pulse_(1)}return ssc_pulse_(e)}var ssc_framerate=150;var ssc_animtime=500;var ssc_stepsize=150;var ssc_pulseAlgorithm=true;var ssc_pulseScale=6;var ssc_pulseNormalize=1;var ssc_keyboardsupport=true;var ssc_arrowscroll=50;var ssc_frame=false;var ssc_direction={x:0,y:0};var ssc_initdone=false;var ssc_fixedback=true;var ssc_root=document.documentElement;var ssc_activeElement;var ssc_key={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36};var ssc_que=[];var ssc_pending=false;var ssc_cache={};setInterval(function(){ssc_cache={}},10*1e3);var ssc_uniqueID=function(){var e=0;return function(t){return t.ssc_uniqueID||(t.ssc_uniqueID=e++)}}();var ischrome=/chrome/.test(navigator.userAgent.toLowerCase());if(ischrome){ssc_addEvent("mousedown",ssc_mousedown);ssc_addEvent("mousewheel",ssc_wheel);ssc_addEvent("load",ssc_init)};

/* =============================================================

	Smooth Scroll 3.2
	Animate scrolling to anchor links, by Chris Ferdinandi.
	http://gomakethings.com

	Easing support contributed by Willem Liu.
	https://github.com/willemliu

	Easing functions forked from GaÃ«tan Renaudeau.
	https://gist.github.com/gre/1650294

	URL history support contributed by Robert Pate.
	https://github.com/robertpateii

	Fixed header support contributed by Arndt von Lucadou.
	https://github.com/a-v-l

	Infinite loop bugs in iOS and Chrome (when zoomed) by Alex Guzman.
	https://github.com/alexguzman

	Free to use under the MIT License.
	http://gomakethings.com/mit/

 * ============================================================= */

window.smoothScroll=function(e,t,n){"use strict";if("querySelector"in t&&"addEventListener"in e&&Array.prototype.forEach){var r=t.querySelectorAll("[data-scroll]");var i=function(n,r,i,s){var o=e.pageYOffset;var u=t.querySelector("[data-scroll-header]");var a=u===null?0:u.offsetHeight;var f=0;var l,c;var h=function(e,t){if(e=="easeInQuad")return t*t;if(e=="easeOutQuad")return t*(2-t);if(e=="easeInOutQuad")return t<.5?2*t*t:-1+(4-2*t)*t;if(e=="easeInCubic")return t*t*t;if(e=="easeOutCubic")return--t*t*t+1;if(e=="easeInOutCubic")return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1;if(e=="easeInQuart")return t*t*t*t;if(e=="easeOutQuart")return 1- --t*t*t*t;if(e=="easeInOutQuart")return t<.5?8*t*t*t*t:1-8*--t*t*t*t;if(e=="easeInQuint")return t*t*t*t*t;if(e=="easeOutQuint")return 1+ --t*t*t*t*t;if(e=="easeInOutQuint")return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t;return t};var p=function(e,t){if(e==="true"&&history.pushState){history.pushState({pos:t.id},"","#"+t.id)}};var d=function(e){var t=-50;if(e.offsetParent){do{t+=e.offsetTop;e=e.offsetParent}while(e)}t=t-a;if(t>=0){return t}else{return 0}};var v=d(n);var m=v-o;var g=function(){var n=e.pageYOffset;if(c==v||n==v||e.innerHeight+n>=t.body.scrollHeight){clearInterval(b)}};var y=function(){f+=16;l=f/r;l=l>1?1:l;c=o+m*h(i,l);e.scrollTo(0,c);g()};p(s,n);var b=setInterval(y,16)};var s=function(e){var n=this.getAttribute("href");var r=t.querySelector(n);var s=this.getAttribute("data-speed");var o=this.getAttribute("data-easing");var u=this.getAttribute("data-url");e.preventDefault();if(r){i(r,s||500,o||"easeInOutCubic",u||"false")}};Array.prototype.forEach.call(r,function(e,t){e.addEventListener("click",s,false)});e.onpopstate=function(t){if(t.state===null&&e.location.hash===""){e.scrollTo(0,0)}}}}(window,document);

/*!
 * Stellar.js v0.6.2
 * http://markdalgleish.com/projects/stellar.js
 * 
 * Copyright 2013, Mark Dalgleish
 * This content is released under the MIT license
 * http://markdalgleish.mit-license.org
 */

(function(e,t,n,r){"use strict";function d(t,n){this.element=t;this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.init()}var i="stellar",s={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:true,verticalScrolling:true,horizontalOffset:0,verticalOffset:0,responsive:false,parallaxBackgrounds:true,parallaxElements:true,hideDistantElements:true,hideElement:function(e){e.hide()},showElement:function(e){e.show()}},o={scroll:{getLeft:function(e){return e.scrollLeft()},setLeft:function(e,t){e.scrollLeft(t)},getTop:function(e){return e.scrollTop()},setTop:function(e,t){e.scrollTop(t)}},position:{getLeft:function(e){return parseInt(e.css("left"),10)*-1},getTop:function(e){return parseInt(e.css("top"),10)*-1}},margin:{getLeft:function(e){return parseInt(e.css("margin-left"),10)*-1},getTop:function(e){return parseInt(e.css("margin-top"),10)*-1}},transform:{getLeft:function(e){var t=getComputedStyle(e[0])[f];return t!=="none"?parseInt(t.match(/(-?[0-9]+)/g)[4],10)*-1:0},getTop:function(e){var t=getComputedStyle(e[0])[f];return t!=="none"?parseInt(t.match(/(-?[0-9]+)/g)[5],10)*-1:0}}},u={position:{setLeft:function(e,t){e.css("left",t)},setTop:function(e,t){e.css("top",t)}},transform:{setPosition:function(e,t,n,r,i){e[0].style[f]="translate3d("+(t-n)+"px, "+(r-i)+"px, 0)"}}},a=function(){var t=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,n=e("script")[0].style,r="",i;for(i in n){if(t.test(i)){r=i.match(t)[0];break}}if("WebkitOpacity"in n){r="Webkit"}if("KhtmlOpacity"in n){r="Khtml"}return function(e){return r+(r.length>0?e.charAt(0).toUpperCase()+e.slice(1):e)}}(),f=a("transform"),l=e("<div />",{style:"background:#fff"}).css("background-position-x")!==r,c=l?function(e,t,n){e.css({"background-position-x":t,"background-position-y":n})}:function(e,t,n){e.css("background-position",t+" "+n)},h=l?function(e){return[e.css("background-position-x"),e.css("background-position-y")]}:function(e){return e.css("background-position").split(" ")},p=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};d.prototype={init:function(){this.options.name=i+"_"+Math.floor(Math.random()*1e9);this._defineElements();this._defineGetters();this._defineSetters();this._handleWindowLoadAndResize();this._detectViewport();this.refresh({firstLoad:true});if(this.options.scrollProperty==="scroll"){this._handleScrollEvent()}else{this._startAnimationLoop()}},_defineElements:function(){if(this.element===n.body)this.element=t;this.$scrollElement=e(this.element);this.$element=this.element===t?e("body"):this.$scrollElement;this.$viewportElement=this.options.viewportElement!==r?e(this.options.viewportElement):this.$scrollElement[0]===t||this.options.scrollProperty==="scroll"?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var e=this,t=o[e.options.scrollProperty];this._getScrollLeft=function(){return t.getLeft(e.$scrollElement)};this._getScrollTop=function(){return t.getTop(e.$scrollElement)}},_defineSetters:function(){var t=this,n=o[t.options.scrollProperty],r=u[t.options.positionProperty],i=n.setLeft,s=n.setTop;this._setScrollLeft=typeof i==="function"?function(e){i(t.$scrollElement,e)}:e.noop;this._setScrollTop=typeof s==="function"?function(e){s(t.$scrollElement,e)}:e.noop;this._setPosition=r.setPosition||function(e,n,i,s,o){if(t.options.horizontalScrolling){r.setLeft(e,n,i)}if(t.options.verticalScrolling){r.setTop(e,s,o)}}},_handleWindowLoadAndResize:function(){var n=this,r=e(t);if(n.options.responsive){r.bind("load."+this.name,function(){n.refresh()})}r.bind("resize."+this.name,function(){n._detectViewport();if(n.options.responsive){n.refresh()}})},refresh:function(n){var r=this,i=r._getScrollLeft(),s=r._getScrollTop();if(!n||!n.firstLoad){this._reset()}this._setScrollLeft(0);this._setScrollTop(0);this._setOffsets();this._findParticles();this._findBackgrounds();if(n&&n.firstLoad&&/WebKit/.test(navigator.userAgent)){e(t).load(function(){var e=r._getScrollLeft(),t=r._getScrollTop();r._setScrollLeft(e+1);r._setScrollTop(t+1);r._setScrollLeft(e);r._setScrollTop(t)})}this._setScrollLeft(i);this._setScrollTop(s)},_detectViewport:function(){var e=this.$viewportElement.offset(),t=e!==null&&e!==r;this.viewportWidth=this.$viewportElement.width();this.viewportHeight=this.$viewportElement.height();this.viewportOffsetTop=t?e.top:0;this.viewportOffsetLeft=t?e.left:0},_findParticles:function(){var t=this,n=this._getScrollLeft(),i=this._getScrollTop();if(this.particles!==r){for(var s=this.particles.length-1;s>=0;s--){this.particles[s].$element.data("stellar-elementIsActive",r)}}this.particles=[];if(!this.options.parallaxElements)return;this.$element.find("[data-stellar-ratio]").each(function(n){var i=e(this),s,o,u,a,f,l,c,h,p,d=0,v=0,m=0,g=0;if(!i.data("stellar-elementIsActive")){i.data("stellar-elementIsActive",this)}else if(i.data("stellar-elementIsActive")!==this){return}t.options.showElement(i);if(!i.data("stellar-startingLeft")){i.data("stellar-startingLeft",i.css("left"));i.data("stellar-startingTop",i.css("top"))}else{i.css("left",i.data("stellar-startingLeft"));i.css("top",i.data("stellar-startingTop"))}u=i.position().left;a=i.position().top;f=i.css("margin-left")==="auto"?0:parseInt(i.css("margin-left"),10);l=i.css("margin-top")==="auto"?0:parseInt(i.css("margin-top"),10);h=i.offset().left-f;p=i.offset().top-l;i.parents().each(function(){var t=e(this);if(t.data("stellar-offset-parent")===true){d=m;v=g;c=t;return false}else{m+=t.position().left;g+=t.position().top}});s=i.data("stellar-horizontal-offset")!==r?i.data("stellar-horizontal-offset"):c!==r&&c.data("stellar-horizontal-offset")!==r?c.data("stellar-horizontal-offset"):t.horizontalOffset;o=i.data("stellar-vertical-offset")!==r?i.data("stellar-vertical-offset"):c!==r&&c.data("stellar-vertical-offset")!==r?c.data("stellar-vertical-offset"):t.verticalOffset;t.particles.push({$element:i,$offsetParent:c,isFixed:i.css("position")==="fixed",horizontalOffset:s,verticalOffset:o,startingPositionLeft:u,startingPositionTop:a,startingOffsetLeft:h,startingOffsetTop:p,parentOffsetLeft:d,parentOffsetTop:v,stellarRatio:i.data("stellar-ratio")!==r?i.data("stellar-ratio"):1,width:i.outerWidth(true),height:i.outerHeight(true),isHidden:false})})},_findBackgrounds:function(){var t=this,n=this._getScrollLeft(),i=this._getScrollTop(),s;this.backgrounds=[];if(!this.options.parallaxBackgrounds)return;s=this.$element.find("[data-stellar-background-ratio]");if(this.$element.data("stellar-background-ratio")){s=s.add(this.$element)}s.each(function(){var s=e(this),o=h(s),u,a,f,l,p,d,v,m,g,y=0,b=0,w=0,E=0;if(!s.data("stellar-backgroundIsActive")){s.data("stellar-backgroundIsActive",this)}else if(s.data("stellar-backgroundIsActive")!==this){return}if(!s.data("stellar-backgroundStartingLeft")){s.data("stellar-backgroundStartingLeft",o[0]);s.data("stellar-backgroundStartingTop",o[1])}else{c(s,s.data("stellar-backgroundStartingLeft"),s.data("stellar-backgroundStartingTop"))}p=s.css("margin-left")==="auto"?0:parseInt(s.css("margin-left"),10);d=s.css("margin-top")==="auto"?0:parseInt(s.css("margin-top"),10);v=s.offset().left-p-n;m=s.offset().top-d-i;s.parents().each(function(){var t=e(this);if(t.data("stellar-offset-parent")===true){y=w;b=E;g=t;return false}else{w+=t.position().left;E+=t.position().top}});u=s.data("stellar-horizontal-offset")!==r?s.data("stellar-horizontal-offset"):g!==r&&g.data("stellar-horizontal-offset")!==r?g.data("stellar-horizontal-offset"):t.horizontalOffset;a=s.data("stellar-vertical-offset")!==r?s.data("stellar-vertical-offset"):g!==r&&g.data("stellar-vertical-offset")!==r?g.data("stellar-vertical-offset"):t.verticalOffset;t.backgrounds.push({$element:s,$offsetParent:g,isFixed:s.css("background-attachment")==="fixed",horizontalOffset:u,verticalOffset:a,startingValueLeft:o[0],startingValueTop:o[1],startingBackgroundPositionLeft:isNaN(parseInt(o[0],10))?0:parseInt(o[0],10),startingBackgroundPositionTop:isNaN(parseInt(o[1],10))?0:parseInt(o[1],10),startingPositionLeft:s.position().left,startingPositionTop:s.position().top,startingOffsetLeft:v,startingOffsetTop:m,parentOffsetLeft:y,parentOffsetTop:b,stellarRatio:s.data("stellar-background-ratio")===r?1:s.data("stellar-background-ratio")})})},_reset:function(){var e,t,n,r,i;for(i=this.particles.length-1;i>=0;i--){e=this.particles[i];t=e.$element.data("stellar-startingLeft");n=e.$element.data("stellar-startingTop");this._setPosition(e.$element,t,t,n,n);this.options.showElement(e.$element);e.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null)}for(i=this.backgrounds.length-1;i>=0;i--){r=this.backgrounds[i];r.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null);c(r.$element,r.startingValueLeft,r.startingValueTop)}},destroy:function(){this._reset();this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name);this._animationLoop=e.noop;e(t).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var n=this,r=e(t);r.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name);if(typeof this.options.horizontalOffset==="function"){this.horizontalOffset=this.options.horizontalOffset();r.bind("resize.horizontal-"+this.name,function(){n.horizontalOffset=n.options.horizontalOffset()})}else{this.horizontalOffset=this.options.horizontalOffset}if(typeof this.options.verticalOffset==="function"){this.verticalOffset=this.options.verticalOffset();r.bind("resize.vertical-"+this.name,function(){n.verticalOffset=n.options.verticalOffset()})}else{this.verticalOffset=this.options.verticalOffset}},_repositionElements:function(){var e=this._getScrollLeft(),t=this._getScrollTop(),n,r,i,s,o,u,a,f=true,l=true,h,p,d,v,m;if(this.currentScrollLeft===e&&this.currentScrollTop===t&&this.currentWidth===this.viewportWidth&&this.currentHeight===this.viewportHeight){return}else{this.currentScrollLeft=e;this.currentScrollTop=t;this.currentWidth=this.viewportWidth;this.currentHeight=this.viewportHeight}for(m=this.particles.length-1;m>=0;m--){i=this.particles[m];s=i.isFixed?1:0;if(this.options.horizontalScrolling){h=(e+i.horizontalOffset+this.viewportOffsetLeft+i.startingPositionLeft-i.startingOffsetLeft+i.parentOffsetLeft)*-(i.stellarRatio+s-1)+i.startingPositionLeft;d=h-i.startingPositionLeft+i.startingOffsetLeft}else{h=i.startingPositionLeft;d=i.startingOffsetLeft}if(this.options.verticalScrolling){p=(t+i.verticalOffset+this.viewportOffsetTop+i.startingPositionTop-i.startingOffsetTop+i.parentOffsetTop)*-(i.stellarRatio+s-1)+i.startingPositionTop;v=p-i.startingPositionTop+i.startingOffsetTop}else{p=i.startingPositionTop;v=i.startingOffsetTop}if(this.options.hideDistantElements){l=!this.options.horizontalScrolling||d+i.width>(i.isFixed?0:e)&&d<(i.isFixed?0:e)+this.viewportWidth+this.viewportOffsetLeft;f=!this.options.verticalScrolling||v+i.height>(i.isFixed?0:t)&&v<(i.isFixed?0:t)+this.viewportHeight+this.viewportOffsetTop}if(l&&f){if(i.isHidden){this.options.showElement(i.$element);i.isHidden=false}this._setPosition(i.$element,h,i.startingPositionLeft,p,i.startingPositionTop)}else{if(!i.isHidden){this.options.hideElement(i.$element);i.isHidden=true}}}for(m=this.backgrounds.length-1;m>=0;m--){o=this.backgrounds[m];s=o.isFixed?0:1;u=this.options.horizontalScrolling?(e+o.horizontalOffset-this.viewportOffsetLeft-o.startingOffsetLeft+o.parentOffsetLeft-o.startingBackgroundPositionLeft)*(s-o.stellarRatio)+"px":o.startingValueLeft;a=this.options.verticalScrolling?(t+o.verticalOffset-this.viewportOffsetTop-o.startingOffsetTop+o.parentOffsetTop-o.startingBackgroundPositionTop)*(s-o.stellarRatio)+"px":o.startingValueTop;c(o.$element,u,a)}},_handleScrollEvent:function(){var e=this,t=false;var n=function(){e._repositionElements();t=false};var r=function(){if(!t){p(n);t=true}};this.$scrollElement.bind("scroll."+this.name,r);r()},_startAnimationLoop:function(){var e=this;this._animationLoop=function(){p(e._animationLoop);e._repositionElements()};this._animationLoop()}};e.fn[i]=function(t){var n=arguments;if(t===r||typeof t==="object"){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new d(this,t))}})}else if(typeof t==="string"&&t[0]!=="_"&&t!=="init"){return this.each(function(){var r=e.data(this,"plugin_"+i);if(r instanceof d&&typeof r[t]==="function"){r[t].apply(r,Array.prototype.slice.call(n,1))}if(t==="destroy"){e.data(this,"plugin_"+i,null)}})}};e[i]=function(n){var r=e(t);return r.stellar.apply(r,Array.prototype.slice.call(arguments,0))};e[i].scrollProperty=o;e[i].positionProperty=u;t.Stellar=d})(jQuery,this,document);var stellar=jQuery;stellar(document).ready(function(){jQuery.stellar({horizontalScrolling:false,verticalOffset:0})});

/**
 * Isotope v1.5.25
 * An exquisite jQuery plugin for magical layouts
 * http://isotope.metafizzy.co
 *
 * Commercial use requires one-time purchase of a commercial license
 * http://isotope.metafizzy.co/docs/license.html
 *
 * Non-commercial use is licensed under the MIT License
 *
 * Copyright 2013 Metafizzy
 */
 
(function(a,b,c){"use strict";var d=a.document,e=a.Modernizr,f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g="Moz Webkit O Ms".split(" "),h=function(a){var b=d.documentElement.style,c;if(typeof b[a]=="string")return a;a=f(a);for(var e=0,h=g.length;e<h;e++){c=g[e]+a;if(typeof b[c]=="string")return c}},i=h("transform"),j=h("transitionProperty"),k={csstransforms:function(){return!!i},csstransforms3d:function(){var a=!!h("perspective");if(a){var c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),d="@media ("+c.join("transform-3d),(")+"modernizr)",e=b("<style>"+d+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),f=b('<div id="modernizr" />').appendTo("html");a=f.height()===3,f.remove(),e.remove()}return a},csstransitions:function(){return!!j}},l;if(e)for(l in k)e.hasOwnProperty(l)||e.addTest(l,k[l]);else{e=a.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var m=" ",n;for(l in k)n=k[l](),e[l]=n,m+=" "+(n?"":"no-")+l;b("html").addClass(m)}if(e.csstransforms){var o=e.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},p=function(a,c,d){var e=b.data(a,"isoTransform")||{},f={},g,h={},j;f[c]=d,b.extend(e,f);for(g in e)j=e[g],h[g]=o[g](j);var k=h.translate||"",l=h.scale||"",m=k+l;b.data(a,"isoTransform",e),a.style[i]=m};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){p(a,"scale",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){p(a,"translate",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.translate?d.translate:[0,0]}}}var q,r;e.csstransitions&&(q={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[j],r=h("transitionDuration"));var s=b.event,t=b.event.handle?"handle":"dispatch",u;s.special.smartresize={setup:function(){b(this).bind("resize",s.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",s.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",u&&clearTimeout(u),u=setTimeout(function(){s[t].apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c,d){this.element=b(c),this._create(a),this._init(d)};var v=["width","height"],w=b(a);b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(a){this.options=b.extend({},b.Isotope.settings,a),this.styleQueue=[],this.elemCount=0;var c=this.element[0].style;this.originalStyle={};var d=v.slice(0);for(var e in this.options.containerStyle)d.push(e);for(var f=0,g=d.length;f<g;f++)e=d[f],this.originalStyle[e]=c[e]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var h={"original-order":function(a,b){return b.elemCount++,b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,h),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var i=this;setTimeout(function(){i.element.addClass(i.options.containerClass)},0),this.options.resizable&&w.bind("smartresize.isotope",function(){i.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};return c=c.filter(function(a,b){return b.nodeType===1}),this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0),c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var d in a)c="_update"+f(d),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),b;switch(a){case"css":case"none":b=!1;break;case"jquery":b=!0;break;default:b=!e.csstransitions}this.isUsingJQueryAnimation=b,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=this.options.filter===""?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;if(b!=="*"){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c),a.filter(b)},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)!c&&a==="original-order"?g[a]=b.data(this,"isotope-sort-data")[a]:g[a]=e[a](f,d);b.data(this,"isotope-sort-data",g)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);return f===g&&a!=="original-order"&&(f=b(d,"original-order"),g=b(e,"original-order")),(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b=Math.round(b+this.offset.left),c=Math.round(c+this.offset.top);var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);if(this.options.resizesContainer){var d=this["_"+c+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(a,b),this.isLaidOut=!0},_processStyleQueue:function(a,c){var d=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",f=this.options.animationOptions,g=this.options.onLayout,h,i,j,k;i=function(a,b){b.$el[d](b.style,f)};if(this._isInserting&&this.isUsingJQueryAnimation)i=function(a,b){h=b.$el.hasClass("no-transition")?"css":d,b.$el[h](b.style,f)};else if(c||g||f.complete){var l=!1,m=[c,g,f.complete],n=this;j=!0,k=function(){if(l)return;var b;for(var c=0,d=m.length;c<d;c++)b=m[c],typeof b=="function"&&b.call(n.element,a,n);l=!0};if(this.isUsingJQueryAnimation&&d==="animate")f.complete=k,j=!1;else if(e.csstransitions){var o=0,p=this.styleQueue[0],s=p&&p.$el,t;while(!s||!s.length){t=this.styleQueue[o++];if(!t)return;s=t.$el}var u=parseFloat(getComputedStyle(s[0])[r]);u>0&&(i=function(a,b){b.$el[d](b.style,f).one(q,k)},j=!1)}}b.each(this.styleQueue,i),j&&k(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._isInserting=!1,c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){this.$allAtoms=this.$allAtoms.not(a),this.$filteredAtoms=this.$filteredAtoms.not(a);var c=this,d=function(){a.remove(),b&&b.call(c.element)};a.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this._sort(),this.reLayout(d)):d()},shuffle:function(a){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="",b.top="",b.left="",b.opacity="",a&&(b[i]="")});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope"),w.unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",d=a?"height":"width",e=a?"rows":"cols",g=this.element[d](),h,i=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+f(d)](!0)||g;h=Math.floor(g/i),h=Math.max(h,1),this[b][e]=h,this[b][c]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;e<j;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=Math.floor(d.index/d.cols),g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;e<j;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=Math.floor(d.index/d.rows),f=d.index%d.rows,g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){function h(){a.call(c,d)}function i(a){var c=a.target;c.src!==f&&b.inArray(c,g)===-1&&(g.push(c),--e<=0&&(setTimeout(h),d.unbind(".imagesLoaded",i)))}var c=this,d=c.find("img").add(c.filter("img")),e=d.length,f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",g=[];return e||h(),d.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var a=this.src;this.src=f,this.src=a}),c};var x=function(b){a.console&&a.console.error(b)};b.fn.isotope=function(a,c){if(typeof a=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,"isotope");if(!c){x("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'");return}if(!b.isFunction(c[a])||a.charAt(0)==="_"){x("no such method '"+a+"' for isotope instance");return}c[a].apply(c,d)})}else this.each(function(){var d=b.data(this,"isotope");d?(d.option(a),d._init(c)):b.data(this,"isotope",new b.Isotope(a,this,c))});return this}})(window,jQuery);

/*
 * @name Owl Carousel - code name Phenix
 * @author Bartosz Wojciechowski
 * @release 2014
 * Licensed under MIT
 * 
 * @version 2.0.0-beta.1.9
 * @versionNotes Not compatibile with Owl Carousel <2.0.0
 */

(function(e,t,n,r){function d(t,n){t.owlCarousel={name:"Owl Carousel",author:"Bartosz Wojciechowski",version:"2.0.0-beta.1.9",released:"14.05.2014"};this.options=e.extend({},s,n);this._options=e.extend({},s,n);this.dom=e.extend({},o);this.width=e.extend({},u);this.num=e.extend({},a);this.pos=e.extend({},f);this.drag=e.extend({},l);this.speed=e.extend({},c);this.state=e.extend({},h);this.e=e.extend({},p);this.dom.el=t;this.dom.$el=e(t);this.init()}function v(e){var t,r,i=n.createElement("div"),s=e;for(t in s){r=s[t];if(typeof i.style[r]!=="undefined"){i=null;return[r,t]}}return[false]}function m(){return v(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function g(){return v(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function y(){return v(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function b(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}function w(){return t.navigator.msPointerEnabled}function E(){return t.devicePixelRatio>1}var s={items:3,loop:false,center:false,mouseDrag:true,touchDrag:true,pullDrag:true,freeDrag:false,margin:0,stagePadding:0,merge:false,mergeFit:true,autoWidth:false,autoHeight:false,startPosition:0,URLhashListener:false,nav:false,navRewind:true,navText:["prev","next"],slideBy:1,dots:true,dotsEach:false,dotData:false,lazyLoad:false,lazyContent:false,autoplay:false,autoplayTimeout:5e3,autoplayHoverPause:false,smartSpeed:250,fluidSpeed:false,autoplaySpeed:false,navSpeed:false,dotsSpeed:false,dragEndSpeed:false,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,responsiveClass:false,video:false,videoHeight:false,videoWidth:false,animateOut:false,animateIn:false,fallbackEasing:"swing",callbacks:true,info:false,nestedItemSelector:false,itemElement:"div",stageElement:"div",navContainer:false,dotsContainer:false,themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active",navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],controlsClass:"owl-controls",dotClass:"owl-dot",dotsClass:"owl-dots",autoHeightClass:"owl-height"};var o={el:null,$el:null,stage:null,$stage:null,oStage:null,$oStage:null,$items:null,$oItems:null,$cItems:null,$cc:null,$navPrev:null,$navNext:null,$page:null,$nav:null,$content:null};var u={el:0,stage:0,item:0,prevWindow:0,cloneLast:0};var a={items:0,oItems:0,cItems:0,active:0,merged:[],nav:[],allPages:0};var f={start:0,max:0,maxValue:0,prev:0,current:0,currentAbs:0,currentPage:0,stage:0,items:[],lsCurrent:0};var l={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null};var c={onDragEnd:300,nav:300,css2speed:0};var h={isTouch:false,isScrolling:false,isSwiping:false,direction:false,inMotion:false,autoplay:false,lazyContent:false};var p={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null,_autoplay:null,_pause:null,_play:null,_stop:null};d.prototype.init=function(){this.fireCallback("onInitBefore");if(!this.dom.$el.hasClass(this.options.baseClass)){this.dom.$el.addClass(this.options.baseClass)}if(!this.dom.$el.hasClass(this.options.themeClass)){this.dom.$el.addClass(this.options.themeClass)}if(this.options.rtl){this.dom.$el.addClass("owl-rtl")}this.browserSupport();this.sortOptions();this.setResponsiveOptions();if(this.options.autoWidth&&this.state.imagesLoaded!==true){var e=this.dom.$el.find("img");var t=this.options.nestedItemSelector?"."+this.options.nestedItemSelector:r;var n=this.dom.$el.children(t).width();if(e.length&&n<=0){this.preloadAutoWidthImages(e);return false}}this.width.prevWindow=this.windowWidth();this.createStage();this.fetchContent();this.eventsCall();this.addCustomEvents();this.internalEvents();this.dom.$el.addClass("owl-loading");this.refresh(true);this.dom.$el.removeClass("owl-loading").addClass("owl-loaded");this.fireCallback("onInitAfter")};d.prototype.sortOptions=function(){var e=this.options.responsive;this.responsiveSorted={};var t=[],n,r,i;for(n in e){t.push(n)}t=t.sort(function(e,t){return e-t});for(r=0;r<t.length;r++){i=t[r];this.responsiveSorted[i]=e[i]}};d.prototype.setResponsiveOptions=function(){if(this.options.responsive===false){return false}var e=this.windowWidth();var t=this.options.responsive;var n,r,i,s;for(i in this._options){if(i!=="responsive"){this.options[i]=this._options[i]}}for(n in this.responsiveSorted){if(n<=e){s=n;for(r in this.responsiveSorted[s]){this.options[r]=this.responsiveSorted[s][r]}}}this.num.breakpoint=s;if(this.options.responsiveClass){this.dom.$el.attr("class",function(e,t){return t.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+s)}};d.prototype.optionsLogic=function(){this.dom.$el.toggleClass("owl-center",this.options.center);if(this.options.slideBy&&this.options.slideBy==="page"){this.options.slideBy=this.options.items}else if(this.options.slideBy>this.options.items){this.options.slideBy=this.options.items}if(this.options.loop&&this.num.oItems<this.options.items){this.options.loop=false}if(this.num.oItems<=this.options.items&&!this.options.center){this.options.navRewind=false}if(this.options.autoWidth){this.options.stagePadding=false;this.options.dotsEach=1;this.options.merge=false}if(this.state.lazyContent){this.options.loop=false;this.options.merge=false;this.options.dots=false;this.options.freeDrag=false;this.options.lazyContent=true}if((this.options.animateIn||this.options.animateOut)&&this.options.items===1&&this.support3d){this.state.animate=true}else{this.state.animate=false}};d.prototype.createStage=function(){var t=n.createElement("div");var r=n.createElement(this.options.stageElement);t.className="owl-stage-outer";r.className="owl-stage";t.appendChild(r);this.dom.el.appendChild(t);this.dom.oStage=t;this.dom.$oStage=e(t);this.dom.stage=r;this.dom.$stage=e(r);t=null;r=null};d.prototype.createItem=function(){var e=n.createElement(this.options.itemElement);e.className=this.options.itemClass;return e};d.prototype.fetchContent=function(t){if(t){this.dom.$content=t instanceof jQuery?t:e(t)}else if(this.options.nestedItemSelector){this.dom.$content=this.dom.$el.find("."+this.options.nestedItemSelector).not(".owl-stage-outer")}else{this.dom.$content=this.dom.$el.children().not(".owl-stage-outer")}this.num.oItems=this.dom.$content.length;if(this.num.oItems!==0){this.initStructure()}};d.prototype.initStructure=function(){if(this.options.lazyContent&&this.num.oItems>=this.options.items*3){this.state.lazyContent=true}else{this.state.lazyContent=false}if(this.state.lazyContent){this.pos.currentAbs=this.options.items;this.dom.$content.remove()}else{this.createNormalStructure()}};d.prototype.createNormalStructure=function(){for(var e=0;e<this.num.oItems;e++){var t=this.fillItem(this.dom.$content,e);this.dom.$stage.append(t)}this.dom.$content=null};d.prototype.createCustomStructure=function(t){for(var n=0;n<t;n++){var r=this.createItem();var i=e(r);this.setData(i,false);this.dom.$stage.append(i)}};d.prototype.createLazyContentStructure=function(e){if(!this.state.lazyContent){return false}if(e&&this.dom.$stage.children().length===this.options.items*3){return false}this.dom.$stage.empty();this.createCustomStructure(3*this.options.items)};d.prototype.fillItem=function(t,n){var r=this.createItem();var i=t[n]||t;var s=this.traversContent(i);this.setData(r,false,s);return e(r).append(i)};d.prototype.traversContent=function(t){var n=e(t),r,i;if(this.options.dotData){r=n.find("[data-dot]").andSelf().data("dot")}if(this.options.URLhashListener){i=n.find("[data-hash]").andSelf().data("hash")}return{dot:r||false,hash:i||false}};d.prototype.setData=function(t,n,r){var i,s;if(r){i=r.dot;s=r.hash}var o={index:false,indexAbs:false,posLeft:false,clone:false,active:false,loaded:false,lazyLoad:false,current:false,width:false,center:false,page:false,hasVideo:false,playVideo:false,dot:i,hash:s};if(n){o=e.extend({},o,n.data("owl-item"))}e(t).data("owl-item",o)};d.prototype.updateLocalContent=function(){this.dom.$oItems=this.dom.$stage.find("."+this.options.itemClass).filter(function(){return e(this).data("owl-item").clone===false});this.num.oItems=this.dom.$oItems.length;for(var t=0;t<this.num.oItems;t++){var n=this.dom.$oItems.eq(t);n.data("owl-item").index=t}};d.prototype.checkVideoLinks=function(){if(!this.options.video){return false}var e,t;for(var n=0;n<this.num.items;n++){t=this.dom.$items.eq(n);if(t.data("owl-item").hasVideo){continue}e=t.find(".owl-video");if(e.length){this.state.hasVideos=true;this.dom.$items.eq(n).data("owl-item").hasVideo=true;e.css("display","none");this.getVideoInfo(e,t)}}};d.prototype.getVideoInfo=function(e,t){var n,r,i,s=e.data("vimeo-id"),o=e.data("youtube-id"),u=e.data("width")||this.options.videoWidth,a=e.data("height")||this.options.videoHeight,f=e.attr("href");if(s){r="vimeo";i=s}else if(o){r="youtube";i=o}else if(f){i=f.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);if(i[3].indexOf("youtu")>-1){r="youtube"}else if(i[3].indexOf("vimeo")>-1){r="vimeo"}i=i[6]}else{throw new Error("Missing video link.")}t.data("owl-item").videoType=r;t.data("owl-item").videoId=i;t.data("owl-item").videoWidth=u;t.data("owl-item").videoHeight=a;n={type:r,id:i};var l=u&&a?'style="width:'+u+"px;height:"+a+'px;"':"";e.wrap('<div class="owl-video-wrapper"'+l+"></div>");this.createVideoTn(e,n)};d.prototype.createVideoTn=function(t,n){function l(e){i='<div class="owl-video-play-icon"></div>';if(f.options.lazyLoad){r='<div class="owl-video-tn '+a+'" '+u+'="'+e+'"></div>'}else{r='<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>'}t.after(r);t.after(i)}var r,i,s;var o=t.find("img");var u="src";var a="";var f=this;if(this.options.lazyLoad){u="data-src";a="owl-lazy"}if(o.length){l(o.attr(u));o.remove();return false}if(n.type==="youtube"){var c="http://img.youtube.com/vi/"+n.id+"/hqdefault.jpg";l(c)}else if(n.type==="vimeo"){e.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){var t=e[0].thumbnail_large;l(t);if(f.options.loop){f.updateItemState()}}})}};d.prototype.stopVideo=function(){this.fireCallback("onVideoStop");var e=this.dom.$items.eq(this.state.videoPlayIndex);e.find(".owl-video-frame").remove();e.removeClass("owl-video-playing");this.state.videoPlay=false};d.prototype.playVideo=function(t){this.fireCallback("onVideoPlay");if(this.state.videoPlay){this.stopVideo()}var n,r,i=e(t.target||t.srcElement),s=i.closest("."+this.options.itemClass);var o=s.data("owl-item").videoType,u=s.data("owl-item").videoId,a=s.data("owl-item").videoWidth||Math.floor(s.data("owl-item").width-this.options.margin),f=s.data("owl-item").videoHeight||this.dom.$stage.height();if(o==="youtube"){n='<iframe width="'+a+'" height="'+f+'" src="http://www.youtube.com/embed/'+u+"?autoplay=1&v="+u+'" frameborder="0" allowfullscreen></iframe>'}else if(o==="vimeo"){n='<iframe src="http://player.vimeo.com/video/'+u+'?autoplay=1" width="'+a+'" height="'+f+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'}s.addClass("owl-video-playing");this.state.videoPlay=true;this.state.videoPlayIndex=s.data("owl-item").indexAbs;r=e('<div style="height:'+f+"px; width:"+a+'px" class="owl-video-frame">'+n+"</div>");i.after(r)};d.prototype.loopClone=function(){if(!this.options.loop||this.state.lazyContent||this.num.oItems<this.options.items){return false}var t,n,r,i=this.options.items,s=this.num.oItems-1;if(this.options.stagePadding&&this.options.items===1){i+=1}this.num.cItems=i*2;for(r=0;r<i;r++){var o=this.dom.$oItems.eq(r).clone(true,true);var u=this.dom.$oItems.eq(s-r).clone(true,true);t=e(o[0]).addClass("cloned");n=e(u[0]).addClass("cloned");this.setData(t[0],o);this.setData(n[0],u);t.data("owl-item").clone=true;n.data("owl-item").clone=true;this.dom.$stage.append(t);this.dom.$stage.prepend(n);t=n=null}this.dom.$cItems=this.dom.$stage.find("."+this.options.itemClass).filter(function(){return e(this).data("owl-item").clone===true})};d.prototype.reClone=function(){if(this.dom.$cItems!==null){this.dom.$cItems.remove();this.dom.$cItems=null;this.num.cItems=0}if(!this.options.loop){return}this.loopClone()};d.prototype.calculate=function(){var e,t,n,r,i=0,s=0;this.width.el=this.dom.$el.width()-this.options.stagePadding*2;this.width.view=this.dom.$el.width();var o=this.width.el-this.options.margin*(this.options.items===1?0:this.options.items-1);this.width.el=this.width.el+this.options.margin;this.width.item=(o/this.options.items+this.options.margin).toFixed(3);this.dom.$items=this.dom.$stage.find(".owl-item");this.num.items=this.dom.$items.length;if(this.options.autoWidth){this.dom.$items.css("width","")}this.pos.items=[];this.num.merged=[];this.num.nav=[];if(this.options.rtl){r=this.options.center?-(this.width.el/2):0}else{r=this.options.center?this.width.el/2:0}this.width.mergeStage=0;for(e=0;e<this.num.items;e++){if(this.options.merge){var u=this.dom.$items.eq(e).find("[data-merge]").attr("data-merge")||1;if(this.options.mergeFit&&u>this.options.items){u=this.options.items}this.num.merged.push(parseInt(u));this.width.mergeStage+=this.width.item*this.num.merged[e]}else{this.num.merged.push(1)}if(this.options.loop){if(e>=this.num.cItems/2&&e<this.num.cItems/2+this.num.oItems){this.num.nav.push(this.num.merged[e])}}else{this.num.nav.push(this.num.merged[e])}var a=this.width.item*this.num.merged[e];if(this.options.autoWidth){a=this.dom.$items.eq(e).width()+this.options.margin;if(this.options.rtl){this.dom.$items[e].style.marginLeft=this.options.margin+"px"}else{this.dom.$items[e].style.marginRight=this.options.margin+"px"}}this.pos.items.push(r);this.dom.$items.eq(e).data("owl-item").posLeft=i;this.dom.$items.eq(e).data("owl-item").width=a;if(this.options.rtl){r+=a;i+=a}else{r-=a;i-=a}s-=Math.abs(a);if(this.options.center){this.pos.items[e]=!this.options.rtl?this.pos.items[e]-a/2:this.pos.items[e]+a/2}}if(this.options.autoWidth){this.width.stage=this.options.center?Math.abs(s):Math.abs(r)}else{this.width.stage=Math.abs(s)}var f=this.num.oItems+this.num.cItems;for(t=0;t<f;t++){this.dom.$items.eq(t).data("owl-item").indexAbs=t}this.setMinMax();this.setSizes()};d.prototype.setMinMax=function(){var e=this.dom.$oItems.eq(0).data("owl-item").indexAbs;this.pos.min=0;this.pos.minValue=this.pos.items[e];if(!this.options.loop){this.pos.max=this.num.oItems-1}if(this.options.loop){this.pos.max=this.num.oItems+this.options.items}if(!this.options.loop&&!this.options.center){this.pos.max=this.num.oItems-this.options.items}if(this.options.loop&&this.options.center){this.pos.max=this.num.oItems+this.options.items}this.pos.maxValue=this.pos.items[this.pos.max];if(!this.options.loop&&!this.options.center&&this.options.autoWidth||this.options.merge&&!this.options.center){var t=this.options.rtl?1:-1;for(i=0;i<this.pos.items.length;i++){if(this.pos.items[i]*t<this.width.stage-this.width.el){this.pos.max=i+1}}this.pos.maxValue=this.options.rtl?this.width.stage-this.width.el:-(this.width.stage-this.width.el);this.pos.items[this.pos.max]=this.pos.maxValue}if(this.options.center){this.pos.loop=this.pos.items[0]-this.pos.items[this.num.oItems]}else{this.pos.loop=-this.pos.items[this.num.oItems]}if(this.num.oItems<this.options.items&&!this.options.center){this.pos.max=0;this.pos.maxValue=this.pos.items[0]}};d.prototype.setSizes=function(){if(this.options.stagePadding!==false){this.dom.oStage.style.paddingLeft=this.options.stagePadding+"px";this.dom.oStage.style.paddingRight=this.options.stagePadding+"px"}if(this.options.rtl){t.setTimeout(function(){this.dom.stage.style.width=this.width.stage+"px"}.bind(this),0)}else{this.dom.stage.style.width=this.width.stage+"px"}for(var e=0;e<this.num.items;e++){if(!this.options.autoWidth){this.dom.$items[e].style.width=this.width.item-this.options.margin+"px"}if(this.options.rtl){this.dom.$items[e].style.marginLeft=this.options.margin+"px"}else{this.dom.$items[e].style.marginRight=this.options.margin+"px"}if(this.num.merged[e]!==1&&!this.options.autoWidth){this.dom.$items[e].style.width=this.width.item*this.num.merged[e]-this.options.margin+"px"}}this.width.stagePrev=this.width.stage};d.prototype.responsive=function(){if(!this.num.oItems){return false}var r=this.isElWidthChanged();if(!r){return false}var i=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;if(i){if(e(i.parentNode).hasClass("owl-video-frame")){this.setSpeed(0);this.state.isFullScreen=true}}if(i&&this.state.isFullScreen&&this.state.videoPlay){return false}if(this.state.isFullScreen){this.state.isFullScreen=false;return false}if(this.state.videoPlay){if(this.state.orientation!==t.orientation){this.state.orientation=t.orientation;return false}}this.fireCallback("onResponsiveBefore");this.state.responsive=true;this.refresh();this.state.responsive=false;this.fireCallback("onResponsiveAfter")};d.prototype.refresh=function(e){if(this.state.videoPlay){this.stopVideo()}this.setResponsiveOptions();this.createLazyContentStructure(true);this.updateLocalContent();this.optionsLogic();if(this.num.oItems===0){if(this.dom.$page!==null){this.dom.$page.hide()}return false}this.dom.$stage.addClass("owl-refresh");this.reClone();this.calculate();this.dom.$stage.removeClass("owl-refresh");if(this.state.lazyContent){this.pos.currentAbs=this.options.items}this.initPosition(e);if(!this.state.lazyContent&&!e){this.jumpTo(this.pos.current,false)}this.checkVideoLinks();this.updateItemState();this.rebuildDots();this.updateControls();this.autoplay();this.autoHeight();this.state.orientation=t.orientation;this.watchVisibility()};d.prototype.updateItemState=function(e){if(this.state.lazyContent){this.updateLazyContent(e)}if(this.options.center){this.dom.$items.eq(this.pos.currentAbs).addClass(this.options.centerClass).data("owl-item").center=true}if(this.options.lazyLoad){this.lazyLoad()}};d.prototype.updateActiveItems=function(){var e,t,n,r,i,s,o,u,a;for(e=0;e<this.num.items;e++){this.dom.$items.eq(e).data("owl-item").active=false;this.dom.$items.eq(e).data("owl-item").current=false;this.dom.$items.eq(e).removeClass(this.options.activeClass).removeClass(this.options.centerClass)}this.num.active=0;stageX=this.pos.stage;view=this.options.rtl?this.width.view:-this.width.view;for(t=0;t<this.num.items;t++){n=this.dom.$items.eq(t);r=n.data("owl-item").posLeft;i=n.data("owl-item").width;u=this.options.rtl?r+i:r-i;if(this.op(r,"<=",stageX)&&this.op(r,">",stageX+view)||this.op(u,"<",stageX)&&this.op(u,">",stageX+view)){this.num.active++;if(this.options.freeDrag&&!a){a=true;this.pos.current=n.data("owl-item").index;this.pos.currentAbs=n.data("owl-item").indexAbs}n.data("owl-item").active=true;n.data("owl-item").current=true;n.addClass(this.options.activeClass);if(!this.options.lazyLoad){n.data("owl-item").loaded=true}if(this.options.loop&&(this.options.lazyLoad||this.options.center)){this.updateClonedItemsState(n.data("owl-item").index)}}}};d.prototype.updateClonedItemsState=function(e){var t,n,r;if(this.options.center){t=this.dom.$items.eq(this.pos.currentAbs).data("owl-item").index}for(r=0;r<this.num.items;r++){n=this.dom.$items.eq(r);if(n.data("owl-item").index===e){n.data("owl-item").current=true;if(n.data("owl-item").index===t){n.addClass(this.options.centerClass)}}}};d.prototype.updateLazyPosition=function(){var e=this.pos.goToLazyContent||0;this.pos.lcMovedBy=Math.abs(this.options.items-this.pos.currentAbs);if(this.options.items<this.pos.currentAbs){this.pos.lcCurrent+=this.pos.currentAbs-this.options.items;this.state.lcDirection="right"}else if(this.options.items>this.pos.currentAbs){this.pos.lcCurrent-=this.options.items-this.pos.currentAbs;this.state.lcDirection="left"}this.pos.lcCurrent=e!==0?e:this.pos.lcCurrent;if(this.pos.lcCurrent>=this.dom.$content.length){this.pos.lcCurrent=this.pos.lcCurrent-this.dom.$content.length}else if(this.pos.lcCurrent<-this.dom.$content.length+1){this.pos.lcCurrent=this.pos.lcCurrent+this.dom.$content.length}if(this.options.startPosition>0){this.pos.lcCurrent=this.options.startPosition;this._options.startPosition=this.options.startPosition=0}this.pos.lcCurrentAbs=this.pos.lcCurrent<0?this.pos.lcCurrent+this.dom.$content.length:this.pos.lcCurrent};d.prototype.updateLazyContent=function(e){if(this.pos.lcCurrent===r){this.pos.lcCurrent=0;this.pos.current=this.pos.currentAbs=this.options.items}if(!e){this.updateLazyPosition()}var t,n,i,s,o,u,a;this.pos.current=this.pos.currentAbs=this.options.items;this.setSpeed(0);if(this.state.lcDirection!==false){for(t=0;t<this.pos.lcMovedBy;t++){if(this.state.lcDirection==="right"){i=this.dom.$stage.find(".owl-item").eq(0);i.appendTo(this.dom.$stage)}if(this.state.lcDirection==="left"){i=this.dom.$stage.find(".owl-item").eq(-1);i.prependTo(this.dom.$stage)}i.data("owl-item").active=false}}this.dom.$items=this.dom.$stage.find(".owl-item");for(n=0;n<this.num.items;n++){s=this.pos.lcCurrent+n-this.options.items;if(s>=this.dom.$content.length){s=s-this.dom.$content.length}if(s<-this.dom.$content.length){s=s+this.dom.$content.length}o=this.dom.$content.eq(s);u=this.dom.$items.eq(n);a=u.data("owl-item");if(a.active===false||this.pos.goToLazyContent!==0||e===true){u.empty();u.append(o.clone(true,true));a.active=true;a.current=true;if(!this.options.lazyLoad){a.loaded=true}else{a.loaded=false}}}this.animStage(this.pos.items[this.options.items]);this.pos.goToLazyContent=0};d.prototype.eventsCall=function(){this.e._onDragStart=function(e){this.onDragStart(e)}.bind(this);this.e._onDragMove=function(e){this.onDragMove(e)}.bind(this);this.e._onDragEnd=function(e){this.onDragEnd(e)}.bind(this);this.e._transitionEnd=function(e){this.transitionEnd(e)}.bind(this);this.e._resizer=function(){this.responsiveTimer()}.bind(this);this.e._responsiveCall=function(){this.responsive()}.bind(this);this.e._preventClick=function(e){this.preventClick(e)}.bind(this);this.e._goToHash=function(){this.goToHash()}.bind(this);this.e._goToPage=function(e){this.goToPage(e)}.bind(this);this.e._ap=function(){this.autoplay()}.bind(this);this.e._play=function(){this.play()}.bind(this);this.e._pause=function(){this.pause()}.bind(this);this.e._playVideo=function(e){this.playVideo(e)}.bind(this);this.e._navNext=function(t){if(e(t.target).hasClass("disabled")){return false}t.preventDefault();this.next()}.bind(this);this.e._navPrev=function(t){if(e(t.target).hasClass("disabled")){return false}t.preventDefault();this.prev()}.bind(this)};d.prototype.responsiveTimer=function(){if(this.windowWidth()===this.width.prevWindow){return false}t.clearInterval(this.e._autoplay);t.clearTimeout(this.resizeTimer);this.resizeTimer=t.setTimeout(this.e._responsiveCall,this.options.responsiveRefreshRate);this.width.prevWindow=this.windowWidth()};d.prototype.internalEvents=function(){var e=b();var r=w();if(e&&!r){this.dragType=["touchstart","touchmove","touchend","touchcancel"]}else if(e&&r){this.dragType=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]}else{this.dragType=["mousedown","mousemove","mouseup"]}if((e||r)&&this.options.touchDrag){this.on(n,this.dragType[3],this.e._onDragEnd)}else{this.dom.$stage.on("dragstart",function(){return false});if(this.options.mouseDrag){this.dom.stage.onselectstart=function(){return false}}else{this.dom.$el.addClass("owl-text-select-on")}}this.dom.$stage.on(this.dragType[2],".owl-video-play-icon",this.e._playVideo);if(this.options.URLhashListener){this.on(t,"hashchange",this.e._goToHash,false)}if(this.options.autoplayHoverPause){var i=this;this.dom.$stage.on("mouseover",this.e._pause);this.dom.$stage.on("mouseleave",this.e._ap)}if(this.transitionEndVendor){this.on(this.dom.stage,this.transitionEndVendor,this.e._transitionEnd,false)}if(this.options.responsive!==false){this.on(t,"resize",this.e._resizer,false)}this.updateEvents()};d.prototype.updateEvents=function(){if(this.options.touchDrag&&(this.dragType[0]==="touchstart"||this.dragType[0]==="MSPointerDown")){this.on(this.dom.stage,this.dragType[0],this.e._onDragStart,false)}else if(this.options.mouseDrag&&this.dragType[0]==="mousedown"){this.on(this.dom.stage,this.dragType[0],this.e._onDragStart,false)}else{this.off(this.dom.stage,this.dragType[0],this.e._onDragStart)}};d.prototype.onDragStart=function(e){var r=e.originalEvent||e||t.event;if(r.which===3){return false}if(this.dragType[0]==="mousedown"){this.dom.$stage.addClass("owl-grab")}this.fireCallback("onTouchStart");this.drag.startTime=(new Date).getTime();this.setSpeed(0);this.state.isTouch=true;this.state.isScrolling=false;this.state.isSwiping=false;this.drag.distance=0;var i=r.type==="touchstart";var s=i?e.targetTouches[0].pageX:r.pageX||r.clientX;var o=i?e.targetTouches[0].pageY:r.pageY||r.clientY;this.drag.offsetX=this.dom.$stage.position().left-this.options.stagePadding;this.drag.offsetY=this.dom.$stage.position().top;if(this.options.rtl){this.drag.offsetX=this.dom.$stage.position().left+this.width.stage-this.width.el+this.options.margin}if(this.state.inMotion&&this.support3d){var u=this.getTransformProperty();this.drag.offsetX=u;this.animStage(u)}else if(this.state.inMotion&&!this.support3d){this.state.inMotion=false;return false}this.drag.startX=s-this.drag.offsetX;this.drag.startY=o-this.drag.offsetY;this.drag.start=s-this.drag.startX;this.drag.targetEl=r.target||r.srcElement;this.drag.updatedX=this.drag.start;this.on(n,this.dragType[1],this.e._onDragMove,false);this.on(n,this.dragType[2],this.e._onDragEnd,false)};d.prototype.onDragMove=function(e){if(!this.state.isTouch){return}if(this.state.isScrolling){return}var n=0;var i=e.originalEvent||e||t.event;var s=i.type=="touchmove";var o=s?i.targetTouches[0].pageX:i.pageX||i.clientX;var u=s?i.targetTouches[0].pageY:i.pageY||i.clientY;this.drag.currentX=o-this.drag.startX;this.drag.currentY=u-this.drag.startY;this.drag.distance=this.drag.currentX-this.drag.offsetX;if(this.drag.distance<0){this.state.direction=this.options.rtl?"right":"left"}else if(this.drag.distance>0){this.state.direction=this.options.rtl?"left":"right"}if(this.options.loop){if(this.op(this.drag.currentX,">",this.pos.minValue)&&this.state.direction==="right"){this.drag.currentX-=this.pos.loop}else if(this.op(this.drag.currentX,"<",this.pos.maxValue)&&this.state.direction==="left"){this.drag.currentX+=this.pos.loop}}else{var a=this.options.rtl?this.pos.maxValue:this.pos.minValue;var f=this.options.rtl?this.pos.minValue:this.pos.maxValue;var l=this.options.pullDrag?this.drag.distance/5:0;this.drag.currentX=Math.max(Math.min(this.drag.currentX,a+l),f+l)}if(this.drag.distance>8||this.drag.distance<-8){if(i.preventDefault!==r){i.preventDefault()}else{i.returnValue=false}this.state.isSwiping=true}this.drag.updatedX=this.drag.currentX;if((this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===false){this.state.isScrolling=true;this.drag.updatedX=this.drag.start}this.animStage(this.drag.updatedX)};d.prototype.onDragEnd=function(e){if(!this.state.isTouch){return}if(this.dragType[0]==="mousedown"){this.dom.$stage.removeClass("owl-grab")}this.fireCallback("onTouchEnd");this.state.isTouch=false;this.state.isScrolling=false;this.state.isSwiping=false;if(this.drag.distance===0&&this.state.inMotion!==true){this.state.inMotion=false;return false}this.drag.endTime=(new Date).getTime();var t=this.drag.endTime-this.drag.startTime;var r=Math.abs(this.drag.distance);if(r>3||t>300){this.removeClick(this.drag.targetEl)}var i=this.closest(this.drag.updatedX);this.setSpeed(this.options.dragEndSpeed,false,true);this.animStage(this.pos.items[i]);if(!this.options.pullDrag&&this.drag.updatedX===this.pos.items[i]){this.transitionEnd()}this.drag.distance=0;this.off(n,this.dragType[1],this.e._onDragMove);this.off(n,this.dragType[2],this.e._onDragEnd)};d.prototype.removeClick=function(n){this.drag.targetEl=n;e(n).on("click.preventClick",this.e._preventClick);t.setTimeout(function(){e(n).off("click.preventClick")},300)};d.prototype.preventClick=function(t){if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}if(t.stopPropagation){t.stopPropagation()}e(t.target).off("click.preventClick")};d.prototype.getTransformProperty=function(){var e=t.getComputedStyle(this.dom.stage,null).getPropertyValue(this.vendorName+"transform");e=e.replace(/matrix(3d)?\(|\)/g,"").split(",");var n=e.length===16;return n!==true?e[4]:e[12]};d.prototype.closest=function(e){var t=0,n=30;if(!this.options.freeDrag){for(var r=0;r<this.num.items;r++){if(e>this.pos.items[r]-n&&e<this.pos.items[r]+n){t=r}else if(this.op(e,"<",this.pos.items[r])&&this.op(e,">",this.pos.items[r+1||this.pos.items[r]-this.width.el])){t=this.state.direction==="left"?r+1:r}}}if(!this.options.loop){if(this.op(e,">",this.pos.minValue)){t=e=this.pos.min}else if(this.op(e,"<",this.pos.maxValue)){t=e=this.pos.max}}if(!this.options.freeDrag){this.pos.currentAbs=t;this.pos.current=this.dom.$items.eq(t).data("owl-item").index}else{this.updateItemState();return e}return t};d.prototype.animStage=function(e){if(this.speed.current!==0&&this.pos.currentAbs!==this.pos.min){this.fireCallback("onTransitionStart");this.state.inMotion=true}var t=this.pos.stage=e,n=this.dom.stage.style;if(this.support3d){translate="translate3d("+t+"px"+",0px, 0px)";n[this.transformVendor]=translate}else if(this.state.isTouch){n.left=t+"px"}else{this.dom.$stage.animate({left:t},this.speed.css2speed,this.options.fallbackEasing,function(){if(this.state.inMotion){this.transitionEnd()}}.bind(this))}this.onChange()};d.prototype.updatePosition=function(e){if(this.num.oItems===0){return false}if(e===r){return false}var t=e;this.pos.prev=this.pos.currentAbs;if(this.state.revert){this.pos.current=this.dom.$items.eq(t).data("owl-item").index;this.pos.currentAbs=t;return}if(!this.options.loop){if(this.options.navRewind){t=t>this.pos.max?this.pos.min:t<0?this.pos.max:t}else{t=t>this.pos.max?this.pos.max:t<=0?0:t}}else{t=t>=this.num.oItems?this.num.oItems-1:t}this.pos.current=this.dom.$oItems.eq(t).data("owl-item").index;this.pos.currentAbs=this.dom.$oItems.eq(t).data("owl-item").indexAbs};d.prototype.setSpeed=function(e,t,n){var i=e,s=t;if(i===false&&i!==0&&n!==true||i===r){var o=Math.abs(s-this.pos.prev);o=o===0?1:o;if(o>6){o=6}i=o*this.options.smartSpeed}if(i===false&&n===true){i=this.options.smartSpeed}if(i===0){i=0}if(this.support3d){var u=this.dom.stage.style;u.webkitTransitionDuration=u.MsTransitionDuration=u.msTransitionDuration=u.MozTransitionDuration=u.OTransitionDuration=u.transitionDuration=i/1e3+"s"}else{this.speed.css2speed=i}this.speed.current=i;return i};d.prototype.jumpTo=function(e,t){if(this.state.lazyContent){this.pos.goToLazyContent=e}this.updatePosition(e);this.setSpeed(0);this.animStage(this.pos.items[this.pos.currentAbs]);if(t!==true){this.updateItemState()}};d.prototype.goTo=function(e,t){if(this.state.lazyContent&&this.state.inMotion){return false}this.updatePosition(e);if(this.state.animate){t=0}this.setSpeed(t,this.pos.currentAbs);if(this.state.animate){this.animate()}this.animStage(this.pos.items[this.pos.currentAbs])};d.prototype.next=function(e){var t=e||this.options.navSpeed;if(this.options.loop&&!this.state.lazyContent){this.goToLoop(this.options.slideBy,t)}else{this.goTo(this.pos.current+this.options.slideBy,t)}};d.prototype.prev=function(e){var t=e||this.options.navSpeed;if(this.options.loop&&!this.state.lazyContent){this.goToLoop(-this.options.slideBy,t)}else{this.goTo(this.pos.current-this.options.slideBy,t)}};d.prototype.goToLoop=function(e,n){var r=this.pos.currentAbs,i=this.pos.currentAbs,s=this.pos.currentAbs+e,o=i-s<0?true:false;this.state.revert=true;if(s<this.options.items&&o===false){this.state.bypass=true;r=this.num.items-(this.options.items-i)-this.options.items;this.jumpTo(r,true)}else if(s>=this.num.items-this.options.items&&o===true){this.state.bypass=true;r=i-this.num.oItems;this.jumpTo(r,true)}t.clearTimeout(this.e._goToLoop);this.e._goToLoop=t.setTimeout(function(){this.state.bypass=false;this.goTo(r+e,n);this.state.revert=false}.bind(this),30)};d.prototype.initPosition=function(e){if(!this.dom.$oItems||!e||this.state.lazyContent){return false}var t=this.options.startPosition;if(this.options.startPosition==="URLHash"){t=this.options.startPosition=this.hashPosition()}else if(typeof this.options.startPosition!==Number&&!this.options.center){this.options.startPosition=0}this.dom.oStage.scrollLeft=0;this.jumpTo(t,true)};d.prototype.goToHash=function(){var e=this.hashPosition();if(e===false){e=0}this.dom.oStage.scrollLeft=0;this.goTo(e,this.options.navSpeed)};d.prototype.hashPosition=function(){var e=t.location.hash.substring(1),n;if(e===""){return false}for(var r=0;r<this.num.oItems;r++){if(e===this.dom.$oItems.eq(r).data("owl-item").hash){n=r}}return n};d.prototype.autoplay=function(){if(this.options.autoplay&&!this.state.videoPlay){t.clearInterval(this.e._autoplay);this.e._autoplay=t.setInterval(this.e._play,this.options.autoplayTimeout)}else{t.clearInterval(this.e._autoplay);this.state.autoplay=false}};d.prototype.play=function(e,r){if(n.hidden===true){return false}if(!this.options.autoplay){this._options.autoplay=this.options.autoplay=true;this._options.autoplayTimeout=this.options.autoplayTimeout=e||this.options.autoplayTimeout||4e3;this._options.autoplaySpeed=r||this.options.autoplaySpeed}if(this.options.autoplay===false||this.state.isTouch||this.state.isScrolling||this.state.isSwiping||this.state.inMotion){t.clearInterval(this.e._autoplay);return false}if(!this.options.loop&&this.pos.current>=this.pos.max){t.clearInterval(this.e._autoplay);this.goTo(0)}else{this.next(this.options.autoplaySpeed)}this.state.autoplay=true};d.prototype.stop=function(){this._options.autoplay=this.options.autoplay=false;this.state.autoplay=false;t.clearInterval(this.e._autoplay)};d.prototype.pause=function(){t.clearInterval(this.e._autoplay)};d.prototype.transitionEnd=function(e){if(e!==r){e.stopPropagation();var t=e.target||e.srcElement||e.originalTarget;if(t!==this.dom.stage){return false}}this.state.inMotion=false;this.updateItemState();this.autoplay();this.fireCallback("onTransitionEnd")};d.prototype.isElWidthChanged=function(){var e=this.dom.$el.width()-this.options.stagePadding,t=this.width.el+this.options.margin;return e!==t};d.prototype.windowWidth=function(){if(this.options.responsiveBaseElement!==t){this.width.window=e(this.options.responsiveBaseElement).width()}else if(t.innerWidth){this.width.window=t.innerWidth}else if(n.documentElement&&n.documentElement.clientWidth){this.width.window=n.documentElement.clientWidth}return this.width.window};d.prototype.controls=function(){var t=n.createElement("div");t.className=this.options.controlsClass;this.dom.$el.append(t);this.dom.$cc=e(t)};d.prototype.updateControls=function(){if(this.dom.$cc===null&&(this.options.nav||this.options.dots)){if(!this.options.navContainer||!this.options.dotsContainer){this.controls()}}if(this.dom.$nav===null&&this.options.nav){this.createNavigation()}if(this.dom.$page===null&&this.options.dots){this.createDots()}if(this.dom.$nav!==null){if(this.options.nav){this.dom.$nav.show();this.updateNavigation()}else{this.dom.$nav.hide()}}if(this.dom.$page!==null){if(this.options.dots){this.dom.$page.show();this.updateDots()}else{this.dom.$page.hide()}}};d.prototype.createNavigation=function(){var t=this.options.navContainer?e(this.options.navContainer).get(0):this.dom.$cc.get(0);var r=n.createElement("div");r.className=this.options.navContainerClass;t.appendChild(r);var i=n.createElement("div"),s=n.createElement("div");i.className=this.options.navClass[0];s.className=this.options.navClass[1];r.appendChild(i);r.appendChild(s);this.dom.$nav=e(r);this.dom.$navPrev=e(i).html(this.options.navText[0]);this.dom.$navNext=e(s).html(this.options.navText[1]);this.dom.$nav.on(this.dragType[2],"."+this.options.navClass[0],this.e._navPrev);this.dom.$nav.on(this.dragType[2],"."+this.options.navClass[1],this.e._navNext)};d.prototype.createDots=function(){function s(t){t.preventDefault();var n=e(this).data("page");i.goTo(n,i.options.dotsSpeed)}var t=this.options.dotsContainer?e(this.options.dotsContainer).get(0):this.dom.$cc.get(0);var r=n.createElement("div");r.className=this.options.dotsClass;t.appendChild(r);this.dom.$page=e(r);var i=this;this.dom.$page.on(this.dragType[2],"."+this.options.dotClass,s);this.rebuildDots()};d.prototype.rebuildDots=function(){if(this.dom.$page===null){return false}var t,r,i,s=0,o=0,u,a=0,f=0;t=this.options.dotsEach||this.options.items;if(this.options.center||this.options.dotData){t=1}this.dom.$page.html("");for(u=0;u<this.num.nav.length;u++){if(s>=t||s===0){r=n.createElement("div");r.className=this.options.dotClass;i=n.createElement("span");r.appendChild(i);var l=e(r);if(this.options.dotData){l.html(this.dom.$oItems.eq(u).data("owl-item").dot)}l.data("page",a);l.data("goToPage",f);this.dom.$page.append(r);s=0;f++}this.dom.$oItems.eq(u).data("owl-item").page=f-1;s+=this.num.nav[u];a++}if(!this.options.loop&&!this.options.center){for(var c=this.num.nav.length-1;c>=0;c--){o+=this.num.nav[c];this.dom.$oItems.eq(c).data("owl-item").page=f-1;if(o>=t){break}}}this.num.allPages=f-1};d.prototype.updateDots=function(){var e=this.dom.$page.children();var t=this.dom.$oItems.eq(this.pos.current).data("owl-item").page;for(var n=0;n<e.length;n++){var r=e.eq(n).data("goToPage");if(r===t){this.pos.currentPage=n;e.eq(n).addClass("active")}else{e.eq(n).removeClass("active")}}};d.prototype.updateNavigation=function(){var e=this.options.nav;this.dom.$navNext.toggleClass("disabled",!e);this.dom.$navPrev.toggleClass("disabled",!e);if(!this.options.loop&&e&&!this.options.navRewind){if(this.pos.current<=0){this.dom.$navPrev.addClass("disabled")}if(this.pos.current>=this.pos.max){this.dom.$navNext.addClass("disabled")}}};d.prototype.insertContent=function(e){this.dom.$stage.empty();this.fetchContent(e);this.refresh()};d.prototype.addItem=function(t,n){n=n||0;if(this.state.lazyContent){this.dom.$content=this.dom.$content.add(e(t));this.updateItemState(true)}else{var r=this.fillItem(t);if(this.dom.$oItems.length===0){this.dom.$stage.append(r)}else{var i=this.dom.$oItems.eq(n);if(n!==-1){i.before(r)}else{i.after(r)}}this.refresh()}};d.prototype.removeItem=function(e){if(this.state.lazyContent){this.dom.$content.splice(e,1);this.updateItemState(true)}else{this.dom.$oItems.eq(e).remove();this.refresh()}};d.prototype.addCustomEvents=function(){this.e.next=function(e,t){this.next(t)}.bind(this);this.e.prev=function(e,t){this.prev(t)}.bind(this);this.e.goTo=function(e,t,n){this.goTo(t,n)}.bind(this);this.e.jumpTo=function(e,t){this.jumpTo(t)}.bind(this);this.e.addItem=function(e,t,n){this.addItem(t,n)}.bind(this);this.e.removeItem=function(e,t){this.removeItem(t)}.bind(this);this.e.refresh=function(e){this.refresh()}.bind(this);this.e.destroy=function(e){this.destroy()}.bind(this);this.e.autoHeight=function(e){this.autoHeight(true)}.bind(this);this.e.stop=function(){this.stop()}.bind(this);this.e.play=function(e,t,n){this.play(t,n)}.bind(this);this.e.insertContent=function(e,t){this.insertContent(t)}.bind(this);this.dom.$el.on("next.owl",this.e.next);this.dom.$el.on("prev.owl",this.e.prev);this.dom.$el.on("goTo.owl",this.e.goTo);this.dom.$el.on("jumpTo.owl",this.e.jumpTo);this.dom.$el.on("addItem.owl",this.e.addItem);this.dom.$el.on("removeItem.owl",this.e.removeItem);this.dom.$el.on("destroy.owl",this.e.destroy);this.dom.$el.on("refresh.owl",this.e.refresh);this.dom.$el.on("autoHeight.owl",this.e.autoHeight);this.dom.$el.on("play.owl",this.e.play);this.dom.$el.on("stop.owl",this.e.stop);this.dom.$el.on("stopVideo.owl",this.e.stop);this.dom.$el.on("insertContent.owl",this.e.insertContent)};d.prototype.on=function(e,t,n,r){if(e.addEventListener){e.addEventListener(t,n,r)}else if(e.attachEvent){e.attachEvent("on"+t,n)}};d.prototype.off=function(e,t,n,r){if(e.removeEventListener){e.removeEventListener(t,n,r)}else if(e.detachEvent){e.detachEvent("on"+t,n)}};d.prototype.fireCallback=function(e,t){if(!this.options.callbacks){return}if(typeof this.options[e]==="function"){this.options[e].apply(this,[this.dom.el,this.info,e])}if(this.dom.el.dispatchEvent){var r=n.createEvent("CustomEvent");r.initCustomEvent(e,true,true,t);return this.dom.el.dispatchEvent(r)}else if(!this.dom.el.dispatchEvent){return this.dom.$el.trigger(e)}};d.prototype.watchVisibility=function(){function e(e){return e.offsetWidth>0&&e.offsetHeight>0}function n(){if(e(this.dom.el)){this.dom.$el.removeClass("owl-hidden");this.refresh();t.clearInterval(this.e._checkVisibile)}}if(!e(this.dom.el)){this.dom.$el.addClass("owl-hidden");t.clearInterval(this.e._checkVisibile);this.e._checkVisibile=t.setInterval(n.bind(this),500)}};d.prototype.onChange=function(){if(!this.state.isTouch&&!this.state.bypass&&!this.state.responsive){if(this.options.nav||this.options.dots){this.updateControls()}this.autoHeight();this.fireCallback("onChangeState")}if(!this.state.isTouch&&!this.state.bypass){if(!this.state.lazyContent){this.updateActiveItems()}this.storeInfo();if(this.state.videoPlay){this.stopVideo()}}};d.prototype.storeInfo=function(){var e=this.state.lazyContent?this.pos.lcCurrentAbs||0:this.pos.current;var t=this.state.lazyContent?this.dom.$content.length-1:this.num.oItems;this.info={items:this.options.items,allItems:t,currentPosition:e,currentPage:this.pos.currentPage,allPages:this.num.allPages,autoplay:this.state.autoplay,windowWidth:this.width.window,elWidth:this.width.el,breakpoint:this.num.breakpoint};if(typeof this.options.info==="function"){this.options.info.apply(this,[this.info,this.dom.el])}};d.prototype.autoHeight=function(e){if(this.options.autoHeight!==true&&e!==true){return false}if(!this.dom.$oStage.hasClass(this.options.autoHeightClass)){this.dom.$oStage.addClass(this.options.autoHeightClass)}var n=this.dom.$items.eq(this.pos.currentAbs);var r=this.dom.$oStage;var i=0;var s=t.setInterval(function(){i+=1;if(n.data("owl-item").loaded){r.height(n.height()+"px");clearInterval(s)}else if(i===500){clearInterval(s)}},100)};d.prototype.preloadAutoWidthImages=function(t){var n=0;var r=this;t.each(function(i,s){var o=e(s);var u=new Image;u.onload=function(){n++;o.attr("src",u.src);o.css("opacity",1);if(n>=t.length){r.state.imagesLoaded=true;r.init()}};u.src=o.attr("src")||o.attr("data-src")||o.attr("data-src-retina");})};d.prototype.lazyLoad=function(){var e=E()?"data-src-retina":"data-src";var t,n,r;for(r=0;r<this.num.items;r++){var i=this.dom.$items.eq(r);if(i.data("owl-item").current===true&&i.data("owl-item").loaded===false){n=i.find(".owl-lazy");t=n.attr(e);t=t||n.attr("data-src");if(t){n.css("opacity","0");this.preload(n,i)}}}};d.prototype.preload=function(t,n){var r=this;t.each(function(t,i){var s=e(i);var o=new Image;var u=E()?s.attr("data-src-retina"):s.attr("data-src");var u=u||s.attr("data-src");o.onload=function(){n.data("owl-item").loaded=true;if(s.is("img")){s.attr("src",o.src)}else{s.css("background-image","url("+o.src+")")}s.css("opacity",1);r.fireCallback("onLazyLoaded")};o.src=u})};d.prototype.animate=function(){var t=this.dom.$items.eq(this.pos.prev),n=Math.abs(t.data("owl-item").width)*this.pos.prev,r=this.dom.$items.eq(this.pos.currentAbs),i=Math.abs(r.data("owl-item").width)*this.pos.currentAbs;if(this.pos.currentAbs===this.pos.prev){return false}var s=i-n;var o=this.options.animateIn;var u=this.options.animateOut;var a=this;removeStyles=function(){e(this).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(o).removeClass(u);a.transitionEnd()};if(u){t.css({left:s+"px"}).addClass("animated owl-animated-out "+u).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",removeStyles)}if(o){r.addClass("animated owl-animated-in "+o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",removeStyles)}};d.prototype.destroy=function(){t.clearInterval(this.e._autoplay);if(this.dom.$el.hasClass(this.options.themeClass)){this.dom.$el.removeClass(this.options.themeClass)}if(this.options.responsive!==false){this.off(t,"resize",this.e._resizer)}if(this.transitionEndVendor){this.off(this.dom.stage,this.transitionEndVendor,this.e._transitionEnd)}if(this.options.mouseDrag||this.options.touchDrag){this.off(this.dom.stage,this.dragType[0],this.e._onDragStart);if(this.options.mouseDrag){this.off(n,this.dragType[3],this.e._onDragStart)}if(this.options.mouseDrag){this.dom.$stage.off("dragstart",function(){return false});this.dom.stage.onselectstart=function(){}}}if(this.options.URLhashListener){this.off(t,"hashchange",this.e._goToHash)}this.dom.$el.off("next.owl",this.e.next);this.dom.$el.off("prev.owl",this.e.prev);this.dom.$el.off("goTo.owl",this.e.goTo);this.dom.$el.off("jumpTo.owl",this.e.jumpTo);this.dom.$el.off("addItem.owl",this.e.addItem);this.dom.$el.off("removeItem.owl",this.e.removeItem);this.dom.$el.off("refresh.owl",this.e.refresh);this.dom.$el.off("autoHeight.owl",this.e.autoHeight);this.dom.$el.off("play.owl",this.e.play);this.dom.$el.off("stop.owl",this.e.stop);this.dom.$el.off("stopVideo.owl",this.e.stop);this.dom.$stage.off("click",this.e._playVideo);if(this.dom.$cc!==null){this.dom.$cc.remove()}if(this.dom.$cItems!==null){this.dom.$cItems.remove()}this.e=null;this.dom.$el.data("owlCarousel",null);delete this.dom.el.owlCarousel;this.dom.$stage.unwrap();this.dom.$items.unwrap();this.dom.$items.contents().unwrap();this.dom=null};d.prototype.op=function(e,t,n){var r=this.options.rtl;switch(t){case"<":return r?e>n:e<n;case">":return r?e<n:e>n;case">=":return r?e<=n:e>=n;case"<=":return r?e>=n:e<=n;default:break}};d.prototype.browserSupport=function(){this.support3d=y();if(this.support3d){this.transformVendor=g();var e=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=e[m()];this.vendorName=this.transformVendor.replace(/Transform/i,"");this.vendorName=this.vendorName!==""?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=t.orientation};e.fn.owlCarousel=function(t){return this.each(function(){if(!e(this).data("owlCarousel")){e(this).data("owlCarousel",new d(this,t))}})}})(window.Zepto||window.jQuery,window,document);if(!Function.prototype.bind){Function.prototype.bind=function(e){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};r.prototype=this.prototype;i.prototype=new r;return i}};

/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */

 (function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.NProgress=t()}})(this,function(){function n(e,t,n){if(e<t)return t;if(e>n)return n;return e}function r(e){return(-1+e)*100}function i(e,n,i){var s;if(t.positionUsing==="translate3d"){s={transform:"translate3d("+r(e)+"%,0,0)"}}else if(t.positionUsing==="translate"){s={transform:"translate("+r(e)+"%,0)"}}else{s={"margin-left":r(e)+"%"}}s.transition="all "+n+"ms "+i;return s}function u(e,t){var n=typeof e=="string"?e:l(e);return n.indexOf(" "+t+" ")>=0}function a(e,t){var n=l(e),r=n+t;if(u(n,t))return;e.className=r.substring(1)}function f(e,t){var n=l(e),r;if(!u(e,t))return;r=n.replace(" "+t+" "," ");e.className=r.substring(1,r.length-1)}function l(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function c(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var e={};e.version="0.1.6";var t=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:true,trickleRate:.02,trickleSpeed:800,showSpinner:true,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};e.configure=function(e){var n,r;for(n in e){r=e[n];if(r!==undefined&&e.hasOwnProperty(n))t[n]=r}return this};e.status=null;e.set=function(r){var u=e.isStarted();r=n(r,t.minimum,1);e.status=r===1?null:r;var a=e.render(!u),f=a.querySelector(t.barSelector),l=t.speed,c=t.easing;a.offsetWidth;s(function(n){if(t.positionUsing==="")t.positionUsing=e.getPositioningCSS();o(f,i(r,l,c));if(r===1){o(a,{transition:"none",opacity:1});a.offsetWidth;setTimeout(function(){o(a,{transition:"all "+l+"ms linear",opacity:0});setTimeout(function(){e.remove();n()},l)},l)}else{setTimeout(n,l)}});return this};e.isStarted=function(){return typeof e.status==="number"};e.start=function(){if(!e.status)e.set(0);var n=function(){setTimeout(function(){if(!e.status)return;e.trickle();n()},t.trickleSpeed)};if(t.trickle)n();return this};e.done=function(t){if(!t&&!e.status)return this;return e.inc(.3+.5*Math.random()).set(1)};e.inc=function(t){var r=e.status;if(!r){return e.start()}else{if(typeof t!=="number"){t=(1-r)*n(Math.random()*r,.1,.95)}r=n(r+t,0,.994);return e.set(r)}};e.trickle=function(){return e.inc(Math.random()*t.trickleRate)};(function(){var t=0,n=0;e.promise=function(r){if(!r||r.state()=="resolved"){return this}if(n==0){e.start()}t++;n++;r.always(function(){n--;if(n==0){t=0;e.done()}else{e.set((t-n)/t)}});return this}})();e.render=function(n){if(e.isRendered())return document.getElementById("nprogress");a(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress";i.innerHTML=t.template;var s=i.querySelector(t.barSelector),u=n?"-100":r(e.status||0),f=document.querySelector(t.parent),l;o(s,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"});if(!t.showSpinner){l=i.querySelector(t.spinnerSelector);l&&c(l)}if(f!=document.body){a(f,"nprogress-custom-parent")}f.appendChild(i);return i};e.remove=function(){f(document.documentElement,"nprogress-busy");f(document.querySelector(t.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&c(e)};e.isRendered=function(){return!!document.getElementById("nprogress")};e.getPositioningCSS=function(){var e=document.body.style;var t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";if(t+"Perspective"in e){return"translate3d"}else if(t+"Transform"in e){return"translate"}else{return"margin"}};var s=function(){function t(){var n=e.shift();if(n){n(t)}}var e=[];return function(n){e.push(n);if(e.length==1)t()}}();var o=function(){function n(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function r(t){var n=document.body.style;if(t in n)return t;var r=e.length,i=t.charAt(0).toUpperCase()+t.slice(1),s;while(r--){s=e[r]+i;if(s in n)return s}return t}function i(e){e=n(e);return t[e]||(t[e]=r(e))}function s(e,t,n){t=i(t);e.style[t]=n}var e=["Webkit","O","Moz","ms"],t={};return function(e,t){var n=arguments,r,i;if(n.length==2){for(r in t){i=t[r];if(i!==undefined&&t.hasOwnProperty(r))s(e,r,i)}}else{s(e,n[1],n[2])}}}();return e});

 /*!
 * hoverIntent v1.8.0 // 2014.06.29 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */

 (function(e){e.fn.hoverIntent=function(t,n,r){var i={interval:100,sensitivity:6,timeout:0};if(typeof t==="object"){i=e.extend(i,t)}else{if(e.isFunction(n)){i=e.extend(i,{over:t,out:n,selector:r})}else{i=e.extend(i,{over:t,out:t,selector:n})}}var s,o,u,a;var f=function(e){s=e.pageX;o=e.pageY};var l=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.sqrt((u-s)*(u-s)+(a-o)*(a-o))<i.sensitivity){e(n).off("mousemove.hoverIntent",f);n.hoverIntent_s=true;return i.over.apply(n,[t])}else{u=s;a=o;n.hoverIntent_t=setTimeout(function(){l(t,n)},i.interval)}};var c=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=false;return i.out.apply(t,[e])};var h=function(t){var n=e.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type==="mouseenter"){u=n.pageX;a=n.pageY;e(r).on("mousemove.hoverIntent",f);if(!r.hoverIntent_s){r.hoverIntent_t=setTimeout(function(){l(n,r)},i.interval)}}else{e(r).off("mousemove.hoverIntent",f);if(r.hoverIntent_s){r.hoverIntent_t=setTimeout(function(){c(n,r)},i.timeout)}}};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},i.selector)}})(jQuery);

/* okvideo by okfocus ~ v2.3.2 ~ https://github.com/okfocus/okvideo */
function vimeoPlayerReady(){options=jQuery(window).data("okoptions");var a=jQuery("#okplayer")[0];player=$f(a),window.setTimeout(function(){jQuery("#okplayer").css("visibility","visible")},2e3),player.addEvent("ready",function(){OKEvents.v.onReady(),OKEvents.utils.isMobile()?OKEvents.v.onPlay():(player.addEvent("play",OKEvents.v.onPlay),player.addEvent("pause",OKEvents.v.onPause),player.addEvent("finish",OKEvents.v.onFinish)),player.api("play")})}function onYouTubePlayerAPIReady(){options=jQuery(window).data("okoptions"),player=new YT.Player("okplayer",{videoId:options.video?options.video.id:null,playerVars:{autohide:1,autoplay:0,disablekb:options.keyControls,cc_load_policy:options.captions,controls:options.controls,enablejsapi:1,fs:0,modestbranding:1,origin:window.location.origin||window.location.protocol+"//"+window.location.hostname,iv_load_policy:options.annotations,loop:options.loop,showinfo:0,rel:0,wmode:"opaque",hd:options.hd},events:{onReady:OKEvents.yt.ready,onStateChange:OKEvents.yt.onStateChange,onError:OKEvents.yt.error}})}var player,OKEvents,options;!function(a){"use strict";var b="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D";a.okvideo=function(c){"object"!=typeof c&&(c={video:c});var d=this;d.init=function(){d.options=a.extend({},a.okvideo.options,c),null===d.options.video&&(d.options.video=d.options.source),d.setOptions();var e=d.options.target||a("body"),f=e[0]==a("body")[0]?"fixed":"absolute";e.css({position:"relative"});var g=3===d.options.controls?-999:"auto",h='<div id="okplayer-mask" style="position:'+f+';left:0;top:0;overflow:hidden;z-index:-998;height:100%;width:100%;"></div>';OKEvents.utils.isMobile()?e.append('<div id="okplayer" style="position:'+f+";left:0;top:0;overflow:hidden;z-index:"+g+';height:100%;width:100%;"></div>'):(3===d.options.controls&&e.append(h),1===d.options.adproof?e.append('<div id="okplayer" style="position:'+f+";left:-10%;top:-10%;overflow:hidden;z-index:"+g+';height:120%;width:120%;"></div>'):e.append('<div id="okplayer" style="position:'+f+";left:0;top:0;overflow:hidden;z-index:"+g+';height:100%;width:100%;"></div>')),a("#okplayer-mask").css("background-image","url("+b+")"),null===d.options.playlist.list?"youtube"===d.options.video.provider?d.loadYouTubeAPI():"vimeo"===d.options.video.provider&&(d.options.volume/=100,d.loadVimeoAPI()):d.loadYouTubeAPI()},d.setOptions=function(){for(var b in this.options)this.options[b]===!0&&(this.options[b]=1),this.options[b]===!1&&(this.options[b]=3);null===d.options.playlist.list&&(d.options.video=d.determineProvider()),a(window).data("okoptions",d.options)},d.loadYouTubeAPI=function(){d.insertJS("//www.youtube.com/player_api")},d.loadYouTubePlaylist=function(){player.loadPlaylist(d.options.playlist.list,d.options.playlist.index,d.options.playlist.startSeconds,d.options.playlist.suggestedQuality)},d.loadVimeoAPI=function(){a("#okplayer").replaceWith(function(){return'<iframe src="//player.vimeo.com/video/'+d.options.video.id+"?api=1&title=0&byline=0&portrait=0&playbar=0&loop="+d.options.loop+"&autoplay="+(1===d.options.autoplay?1:0)+'&player_id=okplayer" frameborder="0" style="'+a(this).attr("style")+'visibility:hidden;background-color:black;" id="'+a(this).attr("id")+'"></iframe>'}),d.insertJS("//origin-assets.vimeo.com/js/froogaloop2.min.js",function(){vimeoPlayerReady()})},d.insertJS=function(a,b){var c=document.createElement("script");b&&(c.readyState?c.onreadystatechange=function(){("loaded"===c.readyState||"complete"===c.readyState)&&(c.onreadystatechange=null,b())}:c.onload=function(){b()}),c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)},d.determineProvider=function(){var a=document.createElement("a");if(a.href=d.options.video,/youtube.com/.test(d.options.video))return{provider:"youtube",id:a.href.slice(a.href.indexOf("v=")+2).toString()};if(/vimeo.com/.test(d.options.video))return{provider:"vimeo",id:a.href.split("/")[3].toString()};if(/[-A-Za-z0-9_]+/.test(d.options.video)){var b=new String(d.options.video.match(/[-A-Za-z0-9_]+/));if(11==b.length)return{provider:"youtube",id:b.toString()};for(var c=0;c<d.options.video.length;c++)if("number"!=typeof parseInt(d.options.video[c]))throw"not vimeo but thought it was for a sec";return{provider:"vimeo",id:d.options.video}}throw"OKVideo: Invalid video source"},d.init()},a.okvideo.options={source:null,video:null,playlist:{list:null,index:0,startSeconds:0,suggestedQuality:"default"},disableKeyControl:1,captions:0,loop:1,hd:1,volume:0,adproof:!1,unstarted:null,onFinished:null,onReady:null,onPlay:null,onPause:null,buffering:null,controls:!1,autoplay:!0,annotations:!0,cued:null},a.fn.okvideo=function(b){return b.target=this,this.each(function(){new a.okvideo(b)})}}(jQuery),OKEvents={yt:{ready:function(a){a.target.setVolume(options.volume),1===options.autoplay&&(options.playlist.list?player.loadPlaylist(options.playlist.list,options.playlist.index,options.playlist.startSeconds,options.playlist.suggestedQuality):a.target.playVideo()),OKEvents.utils.isFunction(options.onReady)&&options.onReady()},onStateChange:function(a){switch(a.data){case-1:OKEvents.utils.isFunction(options.unstarted)&&options.unstarted();break;case 0:OKEvents.utils.isFunction(options.onFinished)&&options.onFinished(),options.loop&&a.target.playVideo();break;case 1:OKEvents.utils.isFunction(options.onPlay)&&options.onPlay();break;case 2:OKEvents.utils.isFunction(options.onPause)&&options.onPause();break;case 3:OKEvents.utils.isFunction(options.buffering)&&options.buffering();break;case 5:OKEvents.utils.isFunction(options.cued)&&options.cued();break;default:throw"OKVideo: received invalid data from YT player."}},error:function(a){throw a}},v:{onReady:function(){OKEvents.utils.isFunction(options.onReady)&&options.onReady()},onPlay:function(){OKEvents.utils.isMobile()||player.api("setVolume",options.volume),OKEvents.utils.isFunction(options.onPlay)&&options.onPlay()},onPause:function(){OKEvents.utils.isFunction(options.onPause)&&options.onPause()},onFinish:function(){OKEvents.utils.isFunction(options.onFinish)&&options.onFinish()}},utils:{isFunction:function(a){return"function"==typeof a?!0:!1},isMobile:function(){return navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)?!0:!1}}};

/*global jQuery */
/*jshint browser:true */
/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/

(function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var r=document.head||document.getElementsByTagName("head")[0];var i=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";var s=document.createElement("div");s.innerHTML='<p>x</p><style id="fit-vids-style">'+i+"</style>";r.appendChild(s.childNodes[1])}if(t){e.extend(n,t)}return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(n.customSelector){t.push(n.customSelector)}var r=".fitvidsignore";if(n.ignore){r=r+", "+n.ignore}var i=e(this).find(t.join(","));i=i.not("object object");i=i.not(r);i.each(function(){var t=e(this);if(t.parents(r).length>0){return}if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length){return}if(!t.css("height")&&!t.css("width")&&(isNaN(t.attr("height"))||isNaN(t.attr("width")))){t.attr("height",9);t.attr("width",16)}var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),i=!isNaN(parseInt(t.attr("width"),10))?parseInt(t.attr("width"),10):t.width(),s=n/i;if(!t.attr("id")){var o="fitvid"+Math.floor(Math.random()*999999);t.attr("id",o)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",s*100+"%");t.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);

/* Chosen v1.1.0 | (c) 2011-2013 by Harvest | MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md */

!function(){var a,AbstractChosen,Chosen,SelectParser,b,c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};SelectParser=function(){function SelectParser(){this.options_index=0,this.parsed=[]}return SelectParser.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},SelectParser.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},SelectParser.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},SelectParser.prototype.escapeExpression=function(a){var b,c;return null==a||a===!1?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},SelectParser}(),SelectParser.select_to_array=function(a){var b,c,d,e,f;for(c=new SelectParser,f=a.childNodes,d=0,e=f.length;e>d;d++)b=f[d],c.add_node(b);return c.parsed},AbstractChosen=function(){function AbstractChosen(a,b){this.form_field=a,this.options=null!=b?b:{},AbstractChosen.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return AbstractChosen.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},AbstractChosen.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text},AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=!0},AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=!1},AbstractChosen.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},AbstractChosen.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},AbstractChosen.prototype.results_option_build=function(a){var b,c,d,e,f;for(b="",f=this.results_data,d=0,e=f.length;e>d;d++)c=f[d],b+=c.group?this.result_add_group(c):this.result_add_option(c),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return b},AbstractChosen.prototype.result_add_option=function(a){var b,c;return a.search_match?this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,this.outerHTML(c)):"":""},AbstractChosen.prototype.result_add_group=function(a){var b;return a.search_match||a.group_match?a.active_options>0?(b=document.createElement("li"),b.className="group-result",b.innerHTML=a.search_text,this.outerHTML(b)):"":""},AbstractChosen.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},AbstractChosen.prototype.reset_single_select_options=function(){var a,b,c,d,e;for(d=this.results_data,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.selected?e.push(a.selected=!1):e.push(void 0);return e},AbstractChosen.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},AbstractChosen.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},AbstractChosen.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(this.no_results_clear(),e=0,g=this.get_search_text(),a=g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),d=this.search_contains?"":"^",c=new RegExp(d+a,"i"),j=new RegExp(a,"i"),m=this.results_data,k=0,l=m.length;l>k;k++)b=m[k],b.search_match=!1,f=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(f=this.results_data[b.group_array_index],0===f.active_options&&f.search_match&&(e+=1),f.active_options+=1),(!b.group||this.group_search)&&(b.search_text=b.group?b.label:b.html,b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(e+=1),b.search_match?(g.length&&(h=b.search_text.search(j),i=b.search_text.substr(0,h+g.length)+"</em>"+b.search_text.substr(h+g.length),b.search_text=i.substr(0,h)+"<em>"+i.substr(h)),null!=f&&(f.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),1>e&&g.length?(this.update_results_content(""),this.no_results(g)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},AbstractChosen.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},AbstractChosen.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},AbstractChosen.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},AbstractChosen.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},AbstractChosen.prototype.clipboard_event_checker=function(){var a=this;return setTimeout(function(){return a.results_search()},50)},AbstractChosen.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},AbstractChosen.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},AbstractChosen.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},AbstractChosen.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},AbstractChosen.prototype.search_results_touchend=function(a){return this.touch_started?this.search_results_mouseup(a):void 0},AbstractChosen.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},AbstractChosen.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},AbstractChosen.default_multiple_text="Select Some Options",AbstractChosen.default_single_text="Select an Option",AbstractChosen.default_no_result_text="No results match",AbstractChosen}(),a=jQuery,a.fn.extend({chosen:function(b){return AbstractChosen.browser_is_supported()?this.each(function(){var c,d;c=a(this),d=c.data("chosen"),"destroy"===b&&d?d.destroy():d||c.data("chosen",new Chosen(this,b))}):this}}),Chosen=function(c){function Chosen(){return b=Chosen.__super__.constructor.apply(this,arguments)}return d(Chosen,c),Chosen.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},Chosen.prototype.set_up_html=function(){var b,c;return b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},Chosen.prototype.register_observers=function(){var a=this;return this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},Chosen.prototype.destroy=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},Chosen.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},Chosen.prototype.container_mousedown=function(b){return this.is_disabled||(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),null!=b&&a(b.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},Chosen.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},Chosen.prototype.search_results_mousewheel=function(a){var b;return a.originalEvent&&(b=-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},Chosen.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},Chosen.prototype.close_field=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},Chosen.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},Chosen.prototype.test_active_click=function(b){var c;return c=a(b.target).closest(".chosen-container"),c.length&&this.container[0]===c[0]?this.active_field=!0:this.close_field()},Chosen.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},Chosen.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},Chosen.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},Chosen.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},Chosen.prototype.update_results_content=function(a){return this.search_results.html(a)},Chosen.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},Chosen.prototype.set_tab_index=function(){var a;return this.form_field.tabIndex?(a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a):void 0},Chosen.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},Chosen.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},Chosen.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},Chosen.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c?this.result_do_highlight(c):void 0},Chosen.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},Chosen.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{"class":"search-choice"}).html("<span>"+b.html+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),d.bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(d)),this.search_container.before(c)},Chosen.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},Chosen.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},Chosen.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},Chosen.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},Chosen.prototype.result_select=function(a){var b,c;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(c.text),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},Chosen.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(a)},Chosen.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},Chosen.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},Chosen.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html()},Chosen.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},Chosen.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},Chosen.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},Chosen.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},Chosen.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},Chosen.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},Chosen.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},Chosen.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){for(d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,j=g.length;j>i;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return b=a("<div />",{style:f}),b.text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),c=this.container.outerWidth(),h>c-10&&(h=c-10),this.search_field.css({width:h+"px"})}},Chosen}(AbstractChosen)}.call(this);